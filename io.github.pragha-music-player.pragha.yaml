app-id: io.github.pragha_music_player.pragha
runtime: org.gnome.Platform
runtime-version: '3.30'
sdk: org.gnome.Sdk
command: pragha
finish-args:
  - --socket=x11
  - --share=ipc
  - --socket=pulseaudio
  - --filesystem=home
rename-desktop-file: pragha.desktop
rename-icon: pragha
rename-appdata-file: pragha.appdata.xml

modules:
  - name: taglib
    buildsystem: cmake
    sources:
      - type: archive
        url: https://taglib.org/releases/taglib-1.11.1.tar.gz
        sha512: 7846775c4954ea948fe4383e514ba7c11f55d038ee06b6ea5a0a1c1069044b348026e76b27aa4ba1c71539aa8143e1401fab39184cc6e915ba0ae2c06133cb98
    config-opts:
      - -DBUILD_SHARED_LIBS=ON
      - -DCMAKE_BUILD_TYPE=Release

  - name: pragha
    buildsystem: autotools
    sources:
      - type: archive
        url: https://github.com/pragha-music-player/pragha/releases/download/v1.3.4/pragha-1.3.4.tar.bz2
        sha512: 65aadf68f427f03ea7ca07d2002806eb94019c8091a80320da7d8ff4c2f0cd912e9c346956188b42d2b7a68c56c79ee5af8e8327c69ad69f4a1fa5b9e3b3ca58

