app-id: games.supernova.Carcara-br
runtime: org.freedesktop.Platform
runtime-version: 1.6
sdk: org.freedesktop.Sdk
command: Carcara.sh
finish-args:
  - --socket=x11
  - --share=ipc
  - --device=dri
  - --socket=pulseaudio

build-options:
  - env:
    - PREFIX": /app

modules:
  - "shared-modules/glu/glu-9.0.0.json"
  - name: carcara
    buildsystem: simple
    build-commands:
      - cp -R carcara_lin_6_1.5_Data /app/carcara_lin_6_1.5_Data
      - install -Dm755 carcara_lin_6_1.5.x86 /app/carcara_lin_6_1.5.x86
      - install -Dm755 carcara_lin_6_1.5.x86_64 /app/carcara_lin_6_1.5.x86_64
      - install -Dm755 Carcara-launcher.sh /app/bin/Carcara.sh
      - install -Dm644 games.supernova.Carcara-br.appdata.xml /app/share/appdata/games.supernova.Carcara-br.appdata.xml
      - install -Dm644 games.supernova.Carcara-br.desktop /app/share/applications/games.supernova.Carcara-br.desktop
      - install -Dm644 carcara_lin_6_1.5_Data/Resources/UnityPlayer.png /app/share/icons/hicolor/128x128/apps/games.supernova.Carcara-br.png
    sources:
      - type: archive
        path: carcara_lin_6_1.5.zip
        sha256: 979f41a7049b1b0a207ef7ca1a444e4c87f98f1950fbe339518ed7456021d7d4

      - type: file
        path: Carcara-launcher.sh

      - type: file
        path: games.supernova.Carcara-br.appdata.xml

      - type: file
        path: games.supernova.Carcara-br.desktop
